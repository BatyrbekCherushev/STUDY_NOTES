## üìå –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç–µ–º—É
* [Acode - –Ü—Ç–µ—Ä–∞—Ç–æ—Ä–∏ –≤ Python](https://acode.com.ua/iterators-python/)
* [Acode - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –≤ Python](https://acode.com.ua/generators-python/)
* [Iterators, generators and decorators](https://pymbook.readthedocs.io/en/latest/igd.html)
* [PyDocs](https://docs.python.org/3/glossary.html#term-iterator)
* [REalPython - How to Use Generators and yield in Python](https://realpython.com/introduction-to-python-generators/)


## üìå –Ü—Ç–µ—Ä–∞—Ç–æ—Ä–∏ (Iterators)

**–Ü—Ç–µ—Ä–∞—Ç–æ—Ä** ‚Äî —Ü–µ –æ–±‚Äô—î–∫—Ç, —è–∫–∏–π –ø–æ—Å—Ç—É–ø–æ–≤–æ –ø–æ–≤–µ—Ä—Ç–∞—î –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó –ø–æ –æ–¥–Ω–æ–º—É, –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É –º–µ—Ç–æ–¥—É `__next__()` –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ—ó next(); –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤–∏–∫–ª–∏–∫—ñ–≤ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤–∏–∫–ª—é—á–µ–Ω–Ω—è **StopIteration**

**–ü—Ä–æ—Ç–æ–∫–æ–ª:** —â–æ–± –∫–ª–∞—Å –±—É–≤ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º, –º–∞—î —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–≤–∞ –º–µ—Ç–æ–¥–∏:

* `__iter__()` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î —Å–∞–º –æ–±‚Äô—î–∫—Ç —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞;

* `__next__()` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç –∞–±–æ –ø—ñ–¥–Ω—ñ–º–∞—î StopIteration, –∫–æ–ª–∏ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–µ–º–∞—î
```python
class Counter(object):
    def __init__(self, low, high):
        self.current = low
        self.high = high

    def __iter__(self):
        'Returns itself as an iterator object'
        return self

    def __next__(self):
        'Returns the next value till current is lower than high'
        if self.current > self.high:
            raise StopIteration
        else:
            self.current += 1
            return self.current - 1

c = Counter(1, 20)
print(next(c)) # –≤–µ—Ä—Ç–∞—î 1
print(next(c)) # –≤–µ—Ä—Ç–∞—î 2
print(next(c)) # –≤–µ—Ä—Ç–∞—î 3

#–Ω–∞ 221-–π –≤–∏–∫–ª–∏–∫ next(c) –≤–∏–∫–∏–Ω–µ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è StopIteration
```
**–Ü—Ç–µ—Ä–∞–±–µ–ª—å–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏:** –û–±‚Äô—î–∫—Ç, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î `__iter__()`, –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è —ñ—Ç–µ—Ä–∞–±–µ–ª—å–Ω–∏–º (iterable); 

* –≤–∏–∫–ª–∏–∫ iter(obj) –ø–æ–≤–µ—Ä—Ç–∞—î —ñ—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –Ω—å–æ–≥–æ. 
* –¶–∏–∫–ª for —Ä–æ–±–∏—Ç—å —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

**–ü–µ—Ä–µ–≤–∞–≥–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞**

* –õ—ñ–Ω–∏–≤–∞ (lazy) –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö ‚Äî –µ–ª–µ–º–µ–Ω—Ç–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ø–æ –º—ñ—Ä—ñ –≤–∏–∫–ª–∏–∫—É, –µ–∫–æ–Ω–æ–º–∏—Ç—å—Å—è –ø–∞–º‚Äô—è—Ç—å
* –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–ª–∞—Å—ñ–≤.

---

## üìå –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ (Generators)

**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä** ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Ç–∏–ø —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ—É–Ω–∫—Ü—ñ—ó –∑ –∫–ª—é—á–æ–≤–∏–º —Å–ª–æ–≤–æ–º yield.

* –ö–æ–ª–∏ —Ç–∞–∫–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –≤–æ–Ω–∞ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥—Ä–∞–∑—É, –∞ –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±‚Äô—î–∫—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
* —è–∫—â–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é next() –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –≤–ª–∞—Å–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ –ø–µ—Ä—à–æ–≥–æ `yield`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –ø–µ–≤–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –π –ø—Ä–∏–∑—É–ø–∏–Ω—è—î —Ñ—É–Ω–∫—Ü—ñ—é, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —ó—ó –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω. –ù–∞—Å—Ç—É–ø–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ next() –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—ñ–¥ –º—ñ—Å—Ü—è –ø–∞—É–∑–∏
* –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó next() –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –≤ –Ω—å–æ–≥–æ –º–µ—Ç–æ–¥ `__next__()`
```python
def my_generator():
    print('High, I am generator')
    yield 1
    yield 2
    yield 3

# –Ω–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –∑–º—ñ–Ω–Ω—ñ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –Ω—ñ—è–∫–æ—ó –ª–æ–≥—ñ–∫–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
my_g = my_generator() 

# –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –ø—Ä—ñ–Ω—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è High, I am generator, –∞ —Ç–∞–∫–æ–∂ –ø—Ä—ñ–Ω—Ç –ø–æ–≤–µ—Ä–Ω–µ–Ω–æ–≥–æ –ø–µ—Ä—à–æ–≥–æ –∑–Ω–∞—è—á–µ–Ω–Ω—è 1
print(next(my_g)) 

# –ø—Ä—ñ–Ω—Ç –ø–æ–≤–µ—Ä–Ω–µ–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è 2
print(next(my_g)) 

# —è–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—ó next(), –ø—Ä—ñ–Ω—Ç –ø–æ–≤–µ—Ä–Ω–µ–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è 3
print(my_g.__next__()) 

# –≤–∏–∫–∏–¥–∞—î –≤–∏–∫–ª—é—á–µ–Ω–Ω—è StopIteration
print(next(my_g)) 
```

```mkdocs 
* –í–∏–∫–ª–∏–∫ my_generator() –ø–æ–≤–µ—Ä—Ç–∞—î –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤ –∑–º—ñ–Ω–Ω—É my_g, 
* next(my_g) –∞–±–æ my_g.__next__() –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ —á–µ—Ä–∑—ñ
```


> –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –§—ñ–±–æ–Ω–∞—á—á—ñ:
```python
def fibonacci():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b
```
>–ü–æ–≤–µ—Ä—Ç–∞—î –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –±–µ–∑ –≤–∏—Ç—Ä–∞—Ç –ø–∞–º'—è—Ç—ñ –¥–ª—è –≤—Å—ñ—î—ó –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –º–µ—Ç–æ–¥—É yield:**

* –ü—Ä–∏–∑—É–ø–∏–Ω—è—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó, –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω (–ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, —Å—Ç–µ–∫, –ø–æ–∑–∏—Ü—ñ—é) ‚Äî –ø–æ–¥—ñ–±–Ω–æ –¥–æ –∫–æ—Ä—É—Ç–∏–Ω
* –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ return, yield –Ω–µ –∑–∞–≤–µ—Ä—à—É—î —Ñ—É–Ω–∫—Ü—ñ—é, –∞ –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ —Ä–æ–±–æ—Ç—É –∑ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ –º—ñ—Å—Ü—è –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É

---

## üìå  –Ü—Ç–µ—Ä–∞—Ç–æ—Ä–∏ vs –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞   | –Ü—Ç–µ—Ä–∞—Ç–æ—Ä                             | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä                                       |
| ---------------- | ------------------------------------ | ----------------------------------------------- |
| –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è       | –ö–ª–∞—Å –∑ `__iter__()` —ñ `__next__()`   | –§—É–Ω–∫—Ü—ñ—è –∑ `yield`                               |
| –ü–∞–º‚Äô—è—Ç—å          | –ú–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–µ—Å—å —Å—Ç–∞–Ω –∞–±–æ –¥–∞–Ω—ñ    | –õ—ñ–Ω–∏–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è, –µ–∫–æ–Ω–æ–º—ñ—è –ø–∞–º‚Äô—è—Ç—ñ              |
| –ó—Ä—É—á–Ω—ñ—Å—Ç—å        | –ë—ñ–ª—å—à–µ –∫–æ–¥—É, —Ä—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º | –ú–µ–Ω—à–µ –∫–æ–¥—É, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Å—Ç–∞–Ω       |
| –í–∑–∞—î–º–æ–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è | –ù–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä             | –ö–æ–∂–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ‚Äî —Ü–µ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä                   |
| –°—Ç–∞—Ç—É—Å           | `iterator`                           | `generator` (–ø—ñ–¥–∫–ª–∞—Å Iterator) ([DataFlair][1]) |

* –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ ‚Äî —Ü–µ –∑—Ä—É—á–Ω—ñ –π –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ—Ç–µ—Ä–∞—Ç–æ—Ä—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ Python-–æ–º —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—ó –∑ yield
* –Ü—Ç–µ—Ä–∞—Ç–æ—Ä–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ä—É–∫–∞–º–∏ –¥–ª—è –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –π –∫–æ–Ω—Ç—Ä–æ–ª—é.

---

## üìå –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏ (Generator Expressions)

* –°—Ö–æ–∂—ñ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ —Å–ø–∏—Å–∫—ñ–≤ (list comprehensions), –∞–ª–µ –≤ –∫—Ä—É–≥–ª–∏—Ö –¥—É–∂–∫–∞—Ö;
* –í–∏—Ä–∞–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–µ —Å—Ç–≤–æ—Ä—é—î –≤—ñ–¥—Ä–∞–∑—É –≥–æ—Ç–æ–≤–∏–π –Ω–∞–±—ñ—Ä –∑–Ω–∞—á–µ–Ω—å, –∞ –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±‚Äô—î–∫—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, —è–∫–∏–π:
    * –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤ –ø–∞–º‚Äô—è—Ç—ñ
    * –≤–∏–¥–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Å—Ç—É–ø–æ–≤–æ, –∫–æ–ª–∏ —Ç–∏ —ó—Ö –∑–∞–ø–∏—Ç—É—î—à
* –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –º–æ–∂–Ω–∞:
    * –ß–µ—Ä–µ–∑ —Ü–∏–∫–ª `for`
    * –ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—é `next()` –∞–±–æ –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ `.__next__()`
    * –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–≤—à–∏ –Ω–∞ —ñ–Ω—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
* ‚ö† –í–∞–∂–ª–∏–≤–∏–π –º–æ–º–µ–Ω—Ç - –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä "–≤–∏–¥–∞–≤" –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤—ñ–Ω –≤–∏—á–µ—Ä–ø—É—î—Ç—å—Å—è ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–æ–π—Ç–∏—Å—è –Ω–∏–º –Ω–µ –≤–∏–π–¥–µ –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ.


>–û—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ß–µ—Ä–µ–∑ —Ü–∏–∫–ª `for`
```python
g = (x**2 for x in range(5))
print(g)  
# <generator object <genexpr> at 0x...>

for val in g:
    print(val)

```
>–û—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—é `next()` –∞–±–æ –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ `.__next__()`
```python
squares = (n * n for n in range(4))

print(squares) # <generator object <genexpr> at 0x000002A8BAC8BAC0>
print(next(squares)) # 0
print(squares.__next__()) # 1
print(next(squares)) # 4
print(squares.__next__()) # 9
print(next(squares)) # exception StopIteration
```
>–û—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ß–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—é `next()` –∞–±–æ –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ `.__next__()`
```python
g = (x**2 for x in range(5))

print(list(g))  # [0, 1, 4, 9, 16]

print(list(g))  # [] - –ø—É—Å—Ç–∏–π —Å–ø–∏—Å–æ–∫, –±–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∂–µ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î –∂–æ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å, –≤—ñ–Ω –≤–∂–µ –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤–∞–Ω–∏–π
```
